<?xml version="1.0" encoding='UTF-8'?>
<odoo>
    <record id="appointment_reminder_mail_template" model="mail.template">
        <field name="name">Appointment Reminder</field>
        <field name="model_id" ref="bista_tdcc_operations.model_appointment_appointment"/>
        <field name="subject">Appointment Reminder on - ${object.start_date}</field>
        <field name="email_from">${user.partner_id.email or ''}</field>
        <field name="email_to"></field>
        <field name="partner_to">${object.client_id.id}</field>
        <field name="body_html" type="html">
            <div>
            <p>
                Hello,<br/><br/>
                This is a reminder ${object.client_id.name} has an appointment booked on ${format_tz(object.start_date)} with ${object.physician_id.name}.
            </p>

            <br/>
            Thank you and have a lovely day.<br/><br/>
            Kind Regards,<br/>
            TDCC Team
        </div>
        </field>
        <field name="auto_delete" eval="False"/>
    </record>


    <record id="appointment_notification_mail_template" model="mail.template">
        <field name="name">Appointment Notification</field>
        <field name="model_id" ref="bista_tdcc_operations.model_appointment_appointment"/>
        <field name="subject">Appointment Booked on - ${object.start_date}</field>
        <field name="email_from">${user.partner_id.email or ''}</field>
        <field name="email_to"></field>
        <field name="partner_to">${object.client_id.id}</field>
        <field name="body_html" type="html">
            <div>
            <p>
                Hello <b>${object.client_id.name}</b>,<br/><br/>
                Your appointment has been booked on <b>${object.start_date}</b> with physician <b>${object.physician_id.name}</b>.
                % if ${object.name}:
                    <b>Appointment Ref No : ${object.name}</b><br/>
                % endif
            </p>

            <br/>
            Thank you and have a lovely day.<br/><br/>
            Kind Regards,<br/>
            <b>TDCC Team</b>
        </div>
        </field>
        <field name="auto_delete" eval="False"/>
    </record>

    <record id="appointment_cancellation_mail_template" model="mail.template">
        <field name="name">Appointment Cancellation</field>
        <field name="model_id" ref="bista_tdcc_operations.model_appointment_cancel"/>
        <field name="subject">Cancellation request for appointment - ${ctx.get('reference')}</field>
        <field name="email_from">${user.partner_id.email or ''}</field>
        <field name="partner_to">${ctx.get('send_to')}</field>
        <field name="body_html" type="html">
            <div>
            <p>
                Hello,<br/><br/>
                Following appointment has request for cancellation due to ${object.cancel_reason_id.name}.<br/><br/>
                Appointment Ref: ${ctx.get('reference')}<br/>
                Client: ${ctx.get('client')}<br/>
                Appointment Date: ${ctx.get('schedule_date')}<br/>
            </p>
            <br/>
            Thank you and have a lovely day.<br/><br/>
        </div>
        </field>
        <field name="auto_delete" eval="False"/>
    </record>
    
    <!-- Email template for cancel invoice send to Accounts -->
     <record id="app_cancel_send_mail_template" model="mail.template">
        <field name="name">Invoice Cancellation Request from Appointment</field>
        <field name="model_id" ref="bista_tdcc_operations.model_appointment_appointment"/>
        <field name="subject">Invoice Cancel request</field>
        <field name="email_from"></field>
        <field name="body_html" type="html">
            <div>
            <p>
                Hello,<br/><br/>
                Following invoice has request for cancellation from <b>${ctx.get('req_from')} </b>.<br/><br/>
                % if ctx.get('invoice_no'):
                    <b>Invoice : ${ctx.get('invoice_no')}</b><br/>
                % endif
                <b>Appointment Ref: ${ctx.get('appointment')}</b><br/>
                <b>Client: ${ctx.get('client')}</b><br/>
                <b>Appointment Date: ${ctx.get('schedule_date')}</b><br/>
            </p>
            <br /><br />
            Do not hesitate to contact me if you have any question.
            <br /><br />
            Thank you and have a lovely day.<br/><br/>
        </div>
        </field>
        <field name="auto_delete" eval="False"/>
    </record>
    
</odoo>
